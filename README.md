# AWS API Gateway Module

This module, sourced from `git@github.com:ksing-neo/tf_module_aws_api_gateway.git`, is designed to configure an API Gateway for an AWS Lambda function. This document provides an overview of the parameters, setup instructions, and an example usage.

## Table of Contents

- [Usage](#usage)
- [Requirements](#requirements)
- [Inputs](#inputs)
- [Outputs](#outputs)
- [Example](#example)

## Usage

This module sets up an AWS API Gateway that triggers an AWS Lambda function. Follow the instructions below to properly configure and deploy this module within your Terraform setup.

## Requirements

- **Terraform v0.13+**: Make sure you are using a compatible version of Terraform.
- **AWS Provider**: Configure the AWS provider in your root module or main Terraform configuration to ensure access to your AWS account.

## Inputs

Here are the required inputs for the module configuration:

| Name                | Description                                   | Type   | Required | Example                                |
|---------------------|-----------------------------------------------|--------|----------|----------------------------------------|
| `function_name`     | Name of the Lambda function                   | string | Yes      | `"my_lambda_function"`                 |
| `region`            | AWS region where the resources will be deployed | string | Yes      | `"us-east-1"`                          |
| `lambda_invoke_arn` | ARN of the Lambda function to be invoked      | string | Yes      | `"arn:aws:lambda:us-east-1:1234567890:function:my_lambda_function"` |

## Outputs

Refer to the module source documentation for detailed information on module outputs, if any.

## Example

Here is an example of how to integrate the `api` module into your Terraform configuration to create an API Gateway that will invoke a specified Lambda function.

```hcl
# Main.tf
provider "aws" {
  region = var.region
}

module "api" {
  source           = "git@github.com:ksing-neo/tf_module_aws_api_gateway.git//terraform"

  function_name     = var.function_name
  region            = var.region
  lambda_invoke_arn = aws_lambda_function.lambda.invoke_arn
  sns_notification  = var.sns_notification
}

resource "aws_lambda_function" "lambda" {
  function_name = var.function_name
  # other lambda configuration...
}
```

Define values in `terraform.tfvars`:

```hcl
function_name = "my_lambda_function"
region = "us-east-1"
application = "my_app"
```

### Steps to Trigger the Module

1. **Define Lambda Function**: Make sure you have a Lambda function configured with an ARN that matches `lambda_invoke_arn`.
2. **Apply Configuration**: Run `terraform init` to initialize the module. Then, use `terraform apply` to create the resources.
3. **Access the API**: Once deployed, the API Gateway should be accessible at the endpoint generated by the module.